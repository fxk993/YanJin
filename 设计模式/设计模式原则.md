## 2.设计模式三原则
**单一职责原则**：一个类只负责一种职责，减少功能之间的耦合
**开放封闭原则**：扩展是开放的，修改是封闭的;可以通过抽象类，添加对应的子类重写抽象类的方法
**依赖倒转原则**：
高层模块不依赖于底层模块，两者都依赖于抽象
抽象不依赖于细节，细节依赖于抽象;
解释：高层模块（业务）不依赖于底层接口，而应该依赖抽象类，当业务需求发生改变只需要添加对应的派生类，再通过基类指针指向子类对象通过多态的方式实现调用;比如我们在做某个项目时需要使用数据库，我们项目全是使用的mysql底层api，假设我们需要更换为oracle数据库，结果就是需要修改所有的代码，效率很低；所以我们需要将数据库的调用抽象成为一个抽象类，子类继承他然后重写他的方法，我们用mysql就添加mysql类然后重写方法，oracle就tianjiaoracle类重写其中的方法，通过基类（抽象类）的指针指向派生类调用方法实现多态，这样在更改的时候我们只需要修改一下基类指针指向的对象就可以了

## 单例模式
特点：
1.有且仅有一个静态实例（为什么是静态实例，静态实例属于类，不属于对象）
2.构造函数为私有，禁止拷贝，拷贝赋值构造
3.获取实例通过静态方法获取
懒汉式：在类创建时就申请一个静态实例，使用时直接获取就可以
饿汉式：在第一次调用类的获取方法时再申请创建实例
线程安全问题：
懒汉式是线程安全的
饿汉式线程不安全，因为在第一次调用时在申请实例，在判断条件时就会引发竞争，所以有几种方式来实现
1.静态局部变量
2.加锁，还有所谓双重检查锁，但是实际还是有问题
3.原子变量法
4.call_once
工厂模式：实现类与类之间的解耦合
简单工厂模式，工厂模式，
简单工厂模式：一个基类，子类继承重写其中方法，再创建一个生产类提供生产方法;
首先创建一个生产类，调用生产方法，生产方法参数是区别不同类的标志，再通过基类指针接收返回值就可以得到我们需要的类